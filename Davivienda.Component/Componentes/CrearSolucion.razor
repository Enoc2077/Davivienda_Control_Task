@namespace Davivienda.Component.Componentes
@using Davivienda.Models.Modelos
@using Davivienda.GraphQL.SDK
@using Microsoft.AspNetCore.Components

<div class="modal-premium-overlay" @onclick="CerrarModalInterno">
    @* Detenemos la propagación para clics internos *@
    <div class="modal-card-registro animate-pop" @onclick:stopPropagation>

        @* Franja azul superior idéntica a Registro de Usuario *@
        <div class="modal-top-accent-blue"></div>

        <div class="modal-header-registro">
            <h2 class="modal-title-main">Registrar Solución</h2>
            <button type="button" class="btn-close-x" @onclick="CerrarModalInterno">×</button>
        </div>

        <div class="modal-body-registro">
            <div class="form-grid-registro">

                @* Nombre de la Solución *@
                <div class="input-group-registro full-width">
                    <label>NOMBRE DE LA SOLUCIÓN</label>
                    <input type="text"
                           @bind="nuevaSolucion.SOL_NOM"
                           class="input-field-premium"
                           placeholder="Ej: Automatización de carga de datos..." />
                </div>

                @* Descripción Detallada *@
                <div class="input-group-registro full-width">
                    <label>DESCRIPCIÓN TÉCNICA</label>
                    <textarea @bind="nuevaSolucion.SOL_DES"
                              rows="4"
                              class="input-field-premium textarea-premium"
                              placeholder="Detalle la implementación técnica aquí..."></textarea>
                </div>

                @* Fila de Estado y Efectividad *@
                <div class="input-group-registro">
                    <label>ESTADO ACTUAL</label>
                    <select @bind="nuevaSolucion.SOL_EST" class="input-field-premium select-premium">
                        <option value="Pendiente">Pendiente</option>
                        <option value="En Progreso">En Progreso</option>
                        <option value="Completada">Completada</option>
                    </select>
                </div>

                <div class="input-group-registro">
                    <label>EFECTIVIDAD (%)</label>
                    <input type="number"
                           @bind="nuevaSolucion.SOL_NIV_EFE"
                           class="input-field-premium"
                           min="0" max="100" />
                </div>
            </div>

            <div class="modal-footer-registro">
                <button type="button" class="btn-cancel-premium" @onclick="CerrarModalInterno">Cancelar</button>
                <button type="button" class="btn-save-premium" @onclick="GuardarSolucion">Guardar Registro</button>
            </div>
        </div>
    </div>
</div>