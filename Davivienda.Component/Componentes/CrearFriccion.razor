@namespace Davivienda.Component.Componentes
@using Davivienda.Models.Modelos
@using Davivienda.GraphQL.SDK
@using Microsoft.AspNetCore.Components
@using Microsoft.AspNetCore.Components.Forms

<div class="modal-premium-overlay">
    <div class="modal-card-registro animate-pop">
        @* Franja superior con degradado institucional *@
        <div class="modal-top-accent-gold"></div>

        <div class="modal-header-registro">
            <h2 class="modal-title-main">Registrar Fricción</h2>
            <button class="btn-close-x" @onclick="CerrarModalInterno" id="btn_x_cerrar">×</button>
        </div>

        <div class="modal-body-registro">
            <EditForm Model="@nuevaFriccion" OnValidSubmit="GuardarFriccion">
                <div class="form-grid-registro">

                    @* Nombre de la Fricción - Full Width *@
                    <div class="input-group-registro full-width">
                        <label for="friccion_nombre">NOMBRE DE LA FRICCIÓN</label>
                        <InputText id="friccion_nombre"
                                   @bind-Value="nuevaFriccion.FRI_TIP"
                                   class="input-field-premium"
                                   placeholder="Ej: Error de conexión intermitente..." />
                    </div>

                    @* Descripción Detallada - Espaciada *@
                    <div class="input-group-registro full-width">
                        <label for="friccion_descripcion">DESCRIPCIÓN DEL OBSTÁCULO</label>
                        <InputTextArea id="friccion_descripcion"
                                       @bind-Value="nuevaFriccion.FRI_DES"
                                       rows="5"
                                       class="input-field-premium textarea-premium"
                                       placeholder="Detalle el problema técnico o administrativo aquí..." />
                    </div>

                    @* Fila de Selectores con espaciado optimizado *@
                    <div class="input-group-registro">
                        <label for="friccion_estado">ESTADO INICIAL</label>
                        <InputSelect id="friccion_estado" @bind-Value="nuevaFriccion.FRI_EST" class="input-field-premium select-premium">
                            <option value="Abierta">Abierta</option>
                            <option value="En Análisis">En Análisis</option>
                            <option value="Mitigada">Mitigada</option>
                        </InputSelect>
                    </div>

                    <div class="input-group-registro">
                        <label for="friccion_impacto">IMPACTO EN EL PROCESO</label>
                        <InputSelect id="friccion_impacto" @bind-Value="nuevaFriccion.FRI_IMP" class="input-field-premium select-premium">
                            <option value="Bajo">Bajo</option>
                            <option value="Medio">Medio</option>
                            <option value="Alto">Alto</option>
                            <option value="Crítico">Crítico</option>
                        </InputSelect>
                    </div>
                </div>

                @* Footer con botones amplios y funcionales *@
                <div class="modal-footer-registro">
                    <button type="button" class="btn-cancel-premium" @onclick="CerrarModalInterno" id="btn_cancelar_friccion">Cancelar</button>
                    <button type="submit" class="btn-save-premium" id="btn_guardar_friccion">Guardar Registro</button>
                </div>
            </EditForm>
        </div>
    </div>
</div>