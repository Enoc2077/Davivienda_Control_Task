@namespace Davivienda.Component.Componentes
@using Davivienda.Models.Modelos
@using Davivienda.GraphQL.SDK
@using Microsoft.AspNetCore.Components

<div class="modal-premium-overlay" @onclick="CerrarModalInterno">
    @* Detenemos la propagación para que el clic adentro no cierre el modal *@
    <div class="modal-card-registro animate-pop" @onclick:stopPropagation>

        <div class="modal-top-accent-gold"></div>

        <div class="modal-header-registro">
            <h2 class="modal-title-main">Registrar Fricción</h2>
            <button type="button" class="btn-close-x" @onclick="CerrarModalInterno">×</button>
        </div>

        <div class="modal-body-registro">
            <div class="form-grid-registro">

                @* Nombre de la Fricción *@
                <div class="input-group-registro full-width">
                    <label>NOMBRE DE LA FRICCIÓN</label>
                    <input type="text"
                           @bind="nuevaFriccion.FRI_TIP"
                           class="input-field-premium"
                           placeholder="Ej: Error de conexión intermitente..." />
                </div>

                @* Descripción Detallada *@
                <div class="input-group-registro full-width">
                    <label>DESCRIPCIÓN DEL OBSTÁCULO</label>
                    <textarea @bind="nuevaFriccion.FRI_DES"
                              rows="4"
                              class="input-field-premium textarea-premium"
                              placeholder="Detalle el problema técnico o administrativo aquí..."></textarea>
                </div>

                @* Selectores en fila *@
                <div class="input-group-registro">
                    <label>ESTADO INICIAL</label>
                    <select @bind="nuevaFriccion.FRI_EST" class="input-field-premium select-premium">
                        <option value="Abierta">Abierta</option>
                        <option value="En Análisis">En Análisis</option>
                        <option value="Mitigada">Mitigada</option>
                    </select>
                </div>

                <div class="input-group-registro">
                    <label>IMPACTO</label>
                    <select @bind="nuevaFriccion.FRI_IMP" class="input-field-premium select-premium">
                        <option value="Bajo">Bajo</option>
                        <option value="Medio">Medio</option>
                        <option value="Alto">Alto</option>
                        <option value="Crítico">Crítico</option>
                    </select>
                </div>
            </div>

            <div class="modal-footer-registro">
                <button type="button" class="btn-cancel-premium" @onclick="CerrarModalInterno">Cancelar</button>
                <button type="button" class="btn-save-premium" @onclick="GuardarFriccion">Guardar Registro</button>
            </div>
        </div>
    </div>
</div>